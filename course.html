<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Login Page</title>
<style>
  html,body{
    height:100%;
    margin:0;
    background:#000;
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    font-family: 'Segoe UI', sans-serif;
  }
  .bg-root{
    position:fixed;
    inset:0;
    width:100%;
    height:100%;
    pointer-events:none;
    z-index:0;
    background:#000;
  }
  canvas.layer{
    position:absolute;
    left:0; top:0;
    width:100%;
    height:100%;
    display:block;
  }
  .css-clouds{
    position:absolute;
    left:-40%;
    top:-10%;
    width:220%;
    height:120%;
    pointer-events:none;
    opacity:0.85;
    mix-blend-mode:screen;
    filter: blur(14px) saturate(0.7);
    will-change: transform;
    background:
      radial-gradient(40vh 18vh at 8% 30%, rgba(255,255,255,0.025), transparent 24%),
      radial-gradient(48vh 22vh at 30% 40%, rgba(255,255,255,0.02), transparent 28%),
      radial-gradient(36vh 16vh at 55% 18%, rgba(255,255,255,0.018), transparent 26%),
      radial-gradient(60vh 28vh at 78% 44%, rgba(255,255,255,0.02), transparent 30%),
      radial-gradient(70vh 32vh at 48% 72%, rgba(255,255,255,0.01), transparent 32%);
    animation: cloudDrift 70s linear infinite;
  }
  @keyframes cloudDrift {
    from { transform: translate3d(-12%,0,0) }
    to   { transform: translate3d(12%,0,0) }
  }
  .horizon{
    position:absolute;
    left:0; right:0; bottom:0;
    height:12%;
    pointer-events:none;
    mix-blend-mode:multiply;
    background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(22,12,6,0.10) 45%, rgba(0,0,0,0.32) 100%);
  }
  .login-container{
    position:relative;
    z-index:1;
    width:280px;
    min-height:380px;
    background:rgba(128,128,128,0.9);
    border-radius:14px;
    padding:28px 22px;
    box-shadow:0 8px 25px rgba(0,0,0,0.5);
    backdrop-filter: blur(10px);
    display:flex;
    flex-direction:column;
    justify-content:flex-start;
    animation: fadeIn 1.5s ease;
  }
  @keyframes fadeIn{
    from{opacity:0; transform:translateY(-30px) scale(0.95);}
    to{opacity:1; transform:translateY(0) scale(1);}
  }
  .login-container h2{
    margin:0 0 24px;
    font-size:1.5rem;
    text-align:center;
    color:#fff;
    text-shadow:0 0 8px rgba(0,0,0,0.6);
  }
  .input-group{
    margin-bottom:20px;
    display:flex;
    flex-direction:column;
    position:relative;
  }
  .input-group label{
    font-size:0.9rem;
    margin-bottom:6px;
    color:#f0f0f0;
  }
  .input-group input{
    padding:10px;
    border:none;
    border-radius:8px;
    outline:none;
    transition: all 0.3s ease;
    font-size:1rem;
    width:100%;
    box-sizing:border-box;
  }
  .input-group input:focus{
    box-shadow:0 0 10px #4da6ff;
    transform: scale(1.02);
  }
  .toggle-eye{
    position:absolute;
    right:10px;
    bottom:10px;
    width:22px;
    height:22px;
    cursor:pointer;
    fill:#555;
    transition:fill 0.3s;
  }
  .toggle-eye:hover{
    fill:#4da6ff;
  }
  .login-btn{
    margin-top:16px;
    background:rgba(0,120,255,0.9);
    color:#fff;
    border:none;
    border-radius:10px;
    padding:12px;
    font-size:1.1rem;
    cursor:pointer;
    transition: all 0.3s ease;
  }
  .login-btn:hover{
    background:rgba(0,100,220,1);
    transform:scale(1.05);
  }
  .alert{
    margin-top:14px;
    font-size:0.9rem;
    color:#ff4444;
    text-align:center;
    opacity:0;
    transition:opacity 0.5s ease;
  }
  .alert.show{
    opacity:1;
  }
</style>
</head>
<body>
  <div class="bg-root">
    <canvas id="stars" class="layer"></canvas>
    <div class="css-clouds"></div>
    <div class="horizon"></div>
  </div>
  <div class="login-container">
    <h2>Login</h2>
    <div class="input-group">
      <label for="username">Username</label>
      <input type="text" id="username" placeholder="Masukkan username">
    </div>
    <div class="input-group">
      <label for="password">Password</label>
      <input type="password" id="password" placeholder="Masukkan password">
      <svg id="eyeIcon" class="toggle-eye" viewBox="0 0 24 24">
        <path d="M12 5c-7.633 0-11 7-11 7s3.367 7 11 7 11-7 11-7-3.367-7-11-7zm0 12c-2.761 0-5-2.239-5-5 
                 s2.239-5 5-5 5 2.239 5 5-2.239 5-5 5zm0-8c-1.657 0-3 1.343-3 3 
                 s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3z"/>
      </svg>
    </div>
    <button class="login-btn" onclick="checkLogin()">Log-in</button>
    <div id="alertBox" class="alert">Username atau password salah!</div>
  </div>
<script>
function fitCanvas(canvas){
  const dpr = Math.max(1, window.devicePixelRatio || 1);
  const rect = canvas.getBoundingClientRect();
  const w = Math.max(1, Math.round(rect.width));
  const h = Math.max(1, Math.round(rect.height));
  canvas.style.width = w + 'px';
  canvas.style.height = h + 'px';
  canvas.width = Math.round(w * dpr);
  canvas.height = Math.round(h * dpr);
  const ctx = canvas.getContext('2d');
  ctx.setTransform(dpr,0,0,dpr,0,0);
  return ctx;
}

/* STARS */
(function(){
  const c = document.getElementById('stars');
  let ctx = fitCanvas(c);
  let W = c.clientWidth, H = c.clientHeight;
  let starList = [];
  function initStars(){
    W = c.clientWidth; H = c.clientHeight;
    ctx = fitCanvas(c);
    starList = [];
    const area = W * H;
    const base = Math.min(900, Math.round(area / 4200));
    for(let i=0;i<base;i++){
      const r = Math.random()*1.8 + 0.2;
      starList.push({
        x: Math.random()*W,
        y: Math.random()*H,
        r,
        a: 0.25 + Math.random()*0.75,
        sp: 0.2 + Math.random()*1.2,
        phase: Math.random()*Math.PI*2
      });
    }
  }
  function drawStars(t){
    ctx.clearRect(0,0,W,H);
    ctx.fillStyle = '#000';
    ctx.fillRect(0,0,W,H);
    for(const s of starList){
      const alpha = s.a * (0.72 + 0.28 * Math.sin((t/1000)*s.sp + s.phase));
      const grad = ctx.createRadialGradient(s.x, s.y, 0, s.x, s.y, s.r*4);
      grad.addColorStop(0, `rgba(255,255,255,${alpha.toFixed(3)})`);
      grad.addColorStop(0.5, `rgba(255,255,255,${(alpha*0.35).toFixed(3)})`);
      grad.addColorStop(1, 'rgba(255,255,255,0)');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r*2.5, 0, Math.PI*2);
      ctx.fill();
    }
  }
  function loop(t){ drawStars(t); requestAnimationFrame(loop); }
  window.addEventListener('resize', ()=>initStars());
  initStars();
  requestAnimationFrame(loop);
})();

/* TOGGLE PASSWORD */
const eyeIcon = document.getElementById('eyeIcon');
const passwordInput = document.getElementById('password');
let showing = false;
eyeIcon.addEventListener('click', ()=>{
  showing = !showing;
  passwordInput.type = showing ? "text" : "password";
  if(showing){
    eyeIcon.innerHTML = '<path d="M12 5c-7.633 0-11 7-11 7s3.367 7 11 7 11-7 11-7-3.367-7-11-7zm0 12c-2.761 0-5-2.239-5-5 \
                 s2.239-5 5-5 5 2.239 5 5-2.239 5-5 5z"/>';
  } else {
    eyeIcon.innerHTML = '<path d="M12 5c-7.633 0-11 7-11 7s3.367 7 11 7c1.63 0 3.062-0.303 4.354-0.822l2.536 2.536 1.414-1.414-16-16-1.414 1.414 3.25 3.25c-1.116 0.645-2.014 1.481-2.64 2.036 0 0 3.367 7 11 7 1.034 0 2.009-0.105 2.922-0.294l2.226 2.226 1.414-1.414-16-16-1.414 1.414 3.544 3.544c-0.617 0.487-1.156 1.055-1.556 1.494z"/>';
  }
});

/* LOGIN CHECK */
// Ganti URL di address bar supaya bersih
window.history.replaceState({}, document.title, '/');
async function checkLogin(){
  const username = document.getElementById('username').value.trim();
  const password = passwordInput.value.trim();
  const alertBox = document.getElementById('alertBox');
  
  try{
    const response = await fetch('kolo.txt');
    const text = await response.text();
    const lines = text.split(/\r?\n/);
    const correctPassword = lines[8] ? lines[8].trim() : ""; // baris ke-9 (index 8)
    
    if(username === "human" && password === correctPassword){
      const expiry = Date.now() + 24*60*60*1000;
      localStorage.setItem("authData", JSON.stringify({status:"true", expiry}));
      window.location.href = "courseh.html";
    } else {
      alertBox.classList.add('show');
    }
  }catch(err){
    console.error("Gagal membaca file password:", err);
    alertBox.textContent = "Error memuat data login!";
    alertBox.classList.add('show');
  }
}
</script>
</body>
</html>